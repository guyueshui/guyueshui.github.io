<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>Polybar 的配置笔记 - 水阙</title>
  <meta name="renderer" content="webkit" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>

<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />

<meta name="theme-color" content="#f8f5ec" />
<meta name="msapplication-navbutton-color" content="#f8f5ec">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec">


<meta name="author" content="Yychi" /><meta name="description" content="前略。 今年早些时候，从 Gnome 换到 i3，原因是因为原来的 gnome 被我弄崩溃了。一时难以解决，又想到之前好几次隐约感觉到 gnome 的不稳定，一气之下决定换一个轻量" /><meta name="keywords" content="水阙, yychi" />






<meta name="generator" content="Hugo 0.56.3 with even 4.0.0" />


<link rel="canonical" href="https://guyueshui.github.io/post/polybar-%E7%9A%84%E9%85%8D%E7%BD%AE%E7%AC%94%E8%AE%B0/" />



<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/manifest.json">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">



<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
<link href="/dist/even.4798f29a.min.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.css" integrity="sha256-7TyXnr2YU040zfSP+rEcz29ggW4j56/ujTPwjMzyqFY=" crossorigin="anonymous">


<meta property="og:title" content="Polybar 的配置笔记" />
<meta property="og:description" content="前略。 今年早些时候，从 Gnome 换到 i3，原因是因为原来的 gnome 被我弄崩溃了。一时难以解决，又想到之前好几次隐约感觉到 gnome 的不稳定，一气之下决定换一个轻量" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://guyueshui.github.io/post/polybar-%E7%9A%84%E9%85%8D%E7%BD%AE%E7%AC%94%E8%AE%B0/" />
<meta property="article:published_time" content="2019-01-16T21:33:17+00:00" />
<meta property="article:modified_time" content="2019-01-16T21:33:17+00:00" />
<meta itemprop="name" content="Polybar 的配置笔记">
<meta itemprop="description" content="前略。 今年早些时候，从 Gnome 换到 i3，原因是因为原来的 gnome 被我弄崩溃了。一时难以解决，又想到之前好几次隐约感觉到 gnome 的不稳定，一气之下决定换一个轻量">


<meta itemprop="datePublished" content="2019-01-16T21:33:17&#43;00:00" />
<meta itemprop="dateModified" content="2019-01-16T21:33:17&#43;00:00" />
<meta itemprop="wordCount" content="4023">



<meta itemprop="keywords" content="polybar," />
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Polybar 的配置笔记"/>
<meta name="twitter:description" content="前略。 今年早些时候，从 Gnome 换到 i3，原因是因为原来的 gnome 被我弄崩溃了。一时难以解决，又想到之前好几次隐约感觉到 gnome 的不稳定，一气之下决定换一个轻量"/>

<!--[if lte IE 9]>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js"></script>
<![endif]-->

<!--[if lt IE 9]>
  <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
<![endif]-->

</head>
<body>
  <div id="mobile-navbar" class="mobile-navbar">
  <div class="mobile-header-logo">
    <a href="/" class="logo">Yychi&#39;s Blog</a>
  </div>
  <div class="mobile-navbar-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>
<nav id="mobile-menu" class="mobile-menu slideout-menu">
  <ul class="mobile-menu-list">
    <a href="/post/">
        <li class="mobile-menu-item">Archives</li>
      </a><a href="/tags/">
        <li class="mobile-menu-item">Tags</li>
      </a><a href="/categories/">
        <li class="mobile-menu-item">Categories</li>
      </a><a href="/sketch/">
        <li class="mobile-menu-item">Sketch</li>
      </a><a href="/tricks/">
        <li class="mobile-menu-item">Tricks</li>
      </a><a href="/about/">
        <li class="mobile-menu-item">About</li>
      </a>
  </ul>
</nav>
  <div class="container" id="mobile-panel">
    <header id="header" class="header">
        <div class="logo-wrapper">
  <a href="/" class="logo">Yychi&#39;s Blog</a>
</div>

<nav class="site-navbar">
  <ul id="menu" class="menu">
    <li class="menu-item">
        <a class="menu-item-link" href="/post/">Archives</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/tags/">Tags</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/categories/">Categories</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/sketch/">Sketch</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/tricks/">Tricks</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/about/">About</a>
      </li>
  </ul>
</nav>
    </header>

    <main id="main" class="main">
      <div class="content-wrapper">
        <div id="content" class="content">
          <article class="post">
    
    <header class="post-header">
      <h1 class="post-title">Polybar 的配置笔记</h1>

      <div class="post-meta">
        <span class="post-time"> January 16, 2019 </span>
        <div class="post-category">
            <a href="/categories/techniques/"> Techniques </a>
            </div>
        <span id="busuanzi_container_page_pv" class="more-meta"> <span id="busuanzi_value_page_pv"><img src="/img/spinner.svg" alt="spinner.svg"/></span> times read </span>
      </div>
    </header>

    <div class="post-toc" id="post-toc">
  <h2 class="post-toc-title">Contents</h2>
  <div class="post-toc-content always-active">
    <nav id="TableOfContents">
<ul>
<li>
<ul>
<li><a href="#由浅入深">由浅入深</a></li>
<li><a href="#了解构造">了解构造</a></li>
<li><a href="#摄入取景">摄入取景</a>
<ul>
<li><a href="#内存和-cpu-模块">内存和 CPU 模块</a></li>
<li><a href="#电池模块">电池模块</a></li>
<li><a href="#mpd-模块">MPD 模块</a></li>
</ul></li>
<li><a href="#总结">总结</a></li>
<li><a href="#reference">Reference</a></li>
</ul></li>
</ul>
</nav>
  </div>
</div>
    <div class="post-content">
      

<p>前略。</p>

<p>今年早些时候，从 Gnome 换到 i3，原因是因为原来的 gnome 被我弄崩溃了。一时难以解决，又想到之前好几次隐约感觉到 gnome 的不稳定，一气之下决定换一个轻量，稳定的，可定制的窗口管理工具。至于为什么换 i3？去知乎吸收一下各个管理器间的哲学就知道了。以前从 Windows 转 Linux，也是这么过来的，知乎真是个好地方！</p>

<p>换成 i3 之后，经过一番配置，桌面终于有点样子了。但是看了一眼 i3 默认的状态栏，emmm...，有点不堪入目。几经搜索之下，发现了这款名为 polybar 的状态栏工具。起初，我被他的描述深深吸引了：</p>

<blockquote>
<p><a href="https://github.com/jaagr/polybar" title="Polybar">Polybar</a>: A fast and easy-to-use status bar.</p>
</blockquote>

<p>事实上它并不是那么 easy-to-use，至少对我这个一开始接触它的人来说。我甚至不知道如何开启它（可能我真的太笨了:(）。然后我开始在网上寻找一些现成的配置，结果不是报错，就是乱码。那些看着好看的配置，你拿过来却用不了。这很气人，然后就告一段落了。我顶着简陋的 i3bar 用了好几个月。直到最近闲下来，要想起来这位老朋友，这才拿出来叙叙旧。</p>

<blockquote>
<p>有些事情，你当时攻不下来。那就先放一放，择日再战有奇效。</p>
</blockquote>

<!-- more -->

<h2 id="由浅入深">由浅入深</h2>

<p>这次呢，我从一个最简单的例子入手。从<a href="https://forum.archlabslinux.com/t/show-us-your-polybar/159/10">这里</a>找到一个既好看，又简约的模板：</p>

<p><img src="https://forum.archlabslinux.com/uploads/default/original/1X/13132e9654f0c10ed9c696caa501a40acc7e62fe.png" alt="Image adapted from ref" /></p>

<p>我将对应的配置复制到我自己的配置文件（<code>~/.config/polybar/config</code>）中:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-ini" data-lang="ini"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span><span class="lnt">53
</span><span class="lnt">54
</span><span class="lnt">55
</span><span class="lnt">56
</span><span class="lnt">57
</span><span class="lnt">58
</span><span class="lnt">59
</span><span class="lnt">60
</span><span class="lnt">61
</span><span class="lnt">62
</span><span class="lnt">63
</span><span class="lnt">64
</span><span class="lnt">65
</span><span class="lnt">66
</span><span class="lnt">67
</span><span class="lnt">68
</span><span class="lnt">69
</span><span class="lnt">70
</span><span class="lnt">71
</span><span class="lnt">72
</span><span class="lnt">73
</span><span class="lnt">74
</span><span class="lnt">75
</span><span class="lnt">76
</span><span class="lnt">77
</span><span class="lnt">78
</span><span class="lnt">79
</span><span class="lnt">80
</span><span class="lnt">81
</span><span class="lnt">82
</span><span class="lnt">83
</span><span class="lnt">84
</span><span class="lnt">85
</span><span class="lnt">86
</span><span class="lnt">87
</span><span class="lnt">88
</span><span class="lnt">89
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-ini" data-lang="ini"><span class="k">[bar/bar]</span>
<span class="na">background</span> <span class="o">=</span> <span class="s">#D93d3c3b</span>
<span class="na">foreground</span> <span class="o">=</span> <span class="s">#b6a49b</span>
<span class="na">width</span>                    <span class="o">=</span> <span class="s">24%</span>
<span class="na">height</span>                   <span class="o">=</span> <span class="s">70</span>
<span class="na">radius</span>                   <span class="o">=</span> <span class="s">15</span>
<span class="na">line-size</span>                <span class="o">=</span> <span class="s">0</span>
<span class="na">bottom</span>                   <span class="o">=</span> <span class="s">true</span>
<span class="na">border-bottom-size</span>       <span class="o">=</span> <span class="s">0</span>
<span class="na">padding-left</span>             <span class="o">=</span> <span class="s">0</span>
<span class="na">padding-right</span>            <span class="o">=</span> <span class="s">0</span>
<span class="c1">#module-margin-left       = 1</span>
<span class="c1">#module-margin-right      = 1</span>

<span class="na">fixed-center</span> <span class="o">=</span> <span class="s">true</span>
<span class="na">font-0</span> <span class="o">=</span> <span class="s">San Francisco Display Regular:size=24;1</span>
<span class="na">font-1</span> <span class="o">=</span> <span class="s">unifont:fontformat=truetype:size=24:antialias=false;0</span>
<span class="na">font-2</span> <span class="o">=</span> <span class="s">&#34;MaterialIcons:size=24:antialias=false;1&#34;</span>
<span class="na">font-3</span> <span class="o">=</span> <span class="s">&#34;icomoon-extended-ultra:size=24:antialias=false;1&#34;</span>
<span class="na">font-4</span> <span class="o">=</span> <span class="s">&#34;Ubuntu Nerd Font:size=24:antialias=false;1&#34;</span>
<span class="na">font-5</span> <span class="o">=</span> <span class="s">FontAwesome:size=24;1</span>

<span class="na">modules-left</span> <span class="o">=</span> 
<span class="na">modules-center</span> <span class="o">=</span>
<span class="na">modules-right</span> <span class="o">=</span> <span class="s">date volume eth poweroff </span>
<span class="na">module-margin</span> <span class="o">=</span> <span class="s">2</span>

<span class="c1">;left - center - right - none</span>
<span class="na">tray-position</span> <span class="o">=</span> <span class="s">none</span>
<span class="na">tray-maxsize</span> <span class="o">=</span> <span class="s">24</span>
<span class="na">tray-detached</span> <span class="o">=</span> <span class="s">false</span>
<span class="na">tray-transparent</span> <span class="o">=</span> <span class="s">false</span>
<span class="na">tray-padding</span> <span class="o">=</span> <span class="s">2</span>
<span class="na">tray-scale</span> <span class="o">=</span> <span class="s">1.0</span>


<span class="na">override-redirect</span> <span class="o">=</span> <span class="s">true</span>
<span class="na">offset-x</span> <span class="o">=</span> <span class="s">2900</span>
<span class="na">offset-y</span> <span class="o">=</span> <span class="s">20</span>

<span class="na">padding</span> <span class="o">=</span> <span class="s">0</span>

<span class="na">wm-name</span> <span class="o">=</span> <span class="s">bar</span>

<span class="c1">;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</span>

<span class="k">[module/date]</span>
<span class="na">type</span> <span class="o">=</span> <span class="s">internal/date</span>
<span class="na">interval</span> <span class="o">=</span> <span class="s">60</span>
<span class="na">date</span> <span class="o">=</span> <span class="s">%a %d %b</span>
<span class="na">time</span> <span class="o">=</span> <span class="s">%l:%M %p</span>
<span class="na">label</span> <span class="o">=</span> <span class="s">   %date%      %time%</span>
<span class="c1">;label =  %time%</span>
<span class="na">format-padding</span> <span class="o">=</span> <span class="s">1</span>

<span class="k">[module/volume]</span>
<span class="na">type</span> <span class="o">=</span> <span class="s">internal/volume</span>
<span class="na">format-volume</span> <span class="o">=</span>   <span class="s">&lt;ramp-volume&gt;  &lt;label-volume&gt;</span>
<span class="na">format-muted</span> <span class="o">=</span> <span class="s">0% </span>
<span class="na">ramp-volume-0</span> <span class="o">=</span> <span class="s"></span>
<span class="na">ramp-volume-1</span> <span class="o">=</span> <span class="s"></span>
<span class="na">ramp-volume-2</span> <span class="o">=</span> <span class="s"> </span>

<span class="k">[module/poweroff]</span>
<span class="na">type</span> <span class="o">=</span> <span class="s">custom/script</span>
<span class="na">exec</span> <span class="o">=</span> <span class="s">echo &#34;  &#34;</span>
<span class="na">click-left</span> <span class="o">=</span> <span class="s">rofi -modi run,drun,window -show drun</span>
<span class="na">click-right</span> <span class="o">=</span> <span class="s">i3lock-fancy -pg &amp;</span>
<span class="na">click-middle</span> <span class="o">=</span> <span class="s">/usr/bin/rofi-logout</span>
<span class="na">format-padding</span> <span class="o">=</span> <span class="s">1</span>

<span class="k">[module/rofi]</span>
<span class="na">type</span> <span class="o">=</span> <span class="s">custom/script</span>
<span class="na">exec</span> <span class="o">=</span> <span class="s">echo &#34;  &#34;</span>
<span class="na">click-left</span> <span class="o">=</span> <span class="s">rofi -modi run,drun,window -show drun</span>
<span class="na">format-padding</span> <span class="o">=</span> <span class="s">1</span>

<span class="k">[module/eth]</span>
<span class="na">type</span> <span class="o">=</span> <span class="s">internal/network</span>
<span class="na">interface</span> <span class="o">=</span> <span class="s">enp2s0</span>
<span class="na">interval</span> <span class="o">=</span> <span class="s">3.0</span>
<span class="na">format-connected</span> <span class="o">=</span> <span class="s">&lt;label-connected&gt;</span>
<span class="na">format-connected-prefix</span> <span class="o">=</span> <span class="s">&#34;  &#34;</span>
<span class="na">format-connected-prefix-foreground</span> <span class="o">=</span> <span class="s">#b6a49b</span>
<span class="na">label-connected</span> <span class="o">=</span> <span class="s">%downspeed:9%</span>
<span class="na">format-disconnected</span> <span class="o">=</span> <span class="s">&lt;label-disconnected&gt;</span>
<span class="na">label-disconnected</span> <span class="o">=</span> <span class="s">not connected</span>
<span class="na">label-disconnected-foreground</span> <span class="o">=</span> <span class="s">#66ffffff</span>
<span class="na">format-padding</span> <span class="o">=</span> <span class="s">1</span></code></pre></td></tr></table>
</div>
</div>
<div style="text-align:center"><small>Code adapted from ref</small></div>

<p>可以看到，配置文件前半部分为 bar 本身的配置：位置，大小，颜色等等。后半部分则是对应模块的配置。其中，我们看到的一些字符未显示，那是由于我的本地并没有可以显示它的字体。其中的乱码主要是 <a href="https://fontawesome.com/how-to-use/on-the-desktop/setup/getting-started">Font Awesome</a> 字体，首先我们得安装该字体。看看这个 bar 到底能不能如预期一样正常显示。</p>

<p>执行</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-sh" data-lang="sh"><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-sh" data-lang="sh">polybar bar</code></pre></td></tr></table>
</div>
</div>
<p>来运行配置文件中的 bar，其中“bar”为自定义的名字，在上面的配置文件中，这个 bar 的名字就是 “bar”。（参见<code>[bar/bar]</code>）</p>

<p>不知道是什么原因，运行没有报错，但是我却看不见 bar 在哪里。╮(╯_╰)╭ 可能是它画在了屏幕之外的地方。于是我就将上面的参数改了改，终于，我看到了着个可爱又迷人的 bar 出现在我的桌面上。不过还是有几处乱码，可能是我安装的 Font Awesome 支持的字符不完整吧。</p>

<p>然后就开始了漫长的折腾过程，循着错误信息去改对应的地方，然后看效果。再微调，再看效果，直到满意为止。</p>

<p>下面是我调整完成的样子：<br />
<img src="https://s2.ax1x.com/2019/01/16/kSXd9s.png" alt="kSXd9s.png" /></p>

<h2 id="了解构造">了解构造</h2>

<p>其实通过配置文件，我们可以学到很多东西。当然，前提是要有一个好的蓝本给你看。这就不得不提 polybar 的 <a href="https://github.com/jaagr/polybar/wiki">wiki</a>，以及作者给出的一些<a href="https://github.com/jaagr/dots/tree/master/.config/polybar/testing">示例</a>了。</p>

<p>好了，现在蓝本已经有了。我想添加一个新的模块：比如现在的 Wi-Fi 模块只有下行速度，我要加一个上行速度，并且加上下行箭头。参照 wiki 中的 network 模块，我们可以修改如下：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-ini" data-lang="ini"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-ini" data-lang="ini"><span class="k">[module/wlan]</span>
<span class="na">type</span> <span class="o">=</span> <span class="s">internal/network</span>
<span class="na">interface</span> <span class="o">=</span> <span class="s">wlp2s0</span>
<span class="na">interval</span> <span class="o">=</span> <span class="s">3.0</span>
<span class="na">format-connected</span> <span class="o">=</span> <span class="s">&lt;label-connected&gt;</span>
<span class="na">format-connected-prefix</span> <span class="o">=</span> <span class="s">&#34; &#34;</span>
<span class="na">format-connected-prefix-foreground</span> <span class="o">=</span> <span class="s">#b6a49b</span>
<span class="na">label-connected</span> <span class="o">=</span> <span class="s">%upspeed:5% %downspeed:5%</span>
<span class="na">format-disconnected</span> <span class="o">=</span> <span class="s">&lt;label-disconnected&gt;</span>
<span class="na">label-disconnected</span> <span class="o">=</span> <span class="s">not connected</span>
<span class="na">label-disconnected-foreground</span> <span class="o">=</span> <span class="s">#66ffffff</span>
<span class="na">format-padding</span> <span class="o">=</span> <span class="s">0</span></code></pre></td></tr></table>
</div>
</div>
<p>可以看到，被改动的实际上只有一行：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-ini" data-lang="ini"><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-ini" data-lang="ini"><span class="c1">; before</span>
<span class="na">label-connected</span> <span class="o">=</span> <span class="s">%downspeed:9%</span>
<span class="c1">; after</span>
<span class="na">label-connected</span> <span class="o">=</span> <span class="s">%upspeed:5% %downspeed:5%</span></code></pre></td></tr></table>
</div>
</div>
<p>这样就完成了所期望的改变。</p>

<blockquote>
<p>Note: 要输入 Font Awesome 字符，可以打开官网的字符集 <a href="https://fontawesome.com/cheatsheet?from=io">cheatsheet</a>，然后直接复制到编辑器中。<br />
<img src="https://s2.ax1x.com/2019/01/17/kpFFm9.png" alt="kpFFm9.png" /><br />
例如，通过浏览器搜索找到上行箭头，复制之。</p>

<p>另外如果使用 vim，可以直接输入对应的十六进制编码来完成字符的输入。比如，我要输入上行箭头（fa-arrow-up），它的十六进制码为 <code>f062</code>（在 cheatsheet 中可查）：<br />
1. 按 <code>i</code> 进入插入模式<br />
2. 按 <kbd>Ctrl</kbd> + <kbd>v</kbd><br />
3. 按 <code>u</code> 进入十六进制输入模式<br />
4. 输入 <code>f062</code><br />
5. 按 <kbd>Esc</kbd> 返回正常模式</p>

<p>inputing... <i class="fa fa-arrow-up"> </i></p>

<p>另，<code>:help i_CTRL-V_digit</code><br />
In insert-mode, type control+V followed by<br />
- <code>a</code> decimal number<br />
- <code>x</code> then a hex number<br />
- <code>u</code> then a 4-hexchar unicode sequence<br />
- <code>U</code> then an 8-hexchar unicode sequence</p>
</blockquote>

<h2 id="摄入取景">摄入取景</h2>

<p>好了，通过上面的一点小小的改动，我们已经大致了解 polybar 的配置方式了。现在，通过一步一步加模块，我们会更进一步的了解它的工作方式。建议每添加一个模块前，先读一读 wiki 上对应模块的设置。然后找一个不错的模板进行改动。</p>

<h3 id="内存和-cpu-模块">内存和 CPU 模块</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-ini" data-lang="ini"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-ini" data-lang="ini"><span class="c1">;;; CPU usage {{{</span>
<span class="k">[module/cpu]</span>
<span class="na">type</span> <span class="o">=</span> <span class="s">internal/cpu</span>

<span class="c1">; Seconds to sleep between updates</span>
<span class="c1">; Default: 1</span>
<span class="na">interval</span> <span class="o">=</span> <span class="s">3.0</span>
<span class="c1">; Available tags:</span>
<span class="c1">;   &lt;label&gt; (default)</span>
<span class="c1">;   &lt;bar-load&gt;</span>
<span class="c1">;   &lt;ramp-load&gt;</span>
<span class="c1">;   &lt;ramp-coreload&gt;</span>
<span class="na">format</span> <span class="o">=</span> <span class="s">&lt;label&gt;&lt;ramp-load&gt;</span>

<span class="c1">; Available tokens:</span>
<span class="c1">;   %percentage% (default) - total cpu load averaged over all cores</span>
<span class="c1">;   %percentage-sum% - Cumulative load on all cores</span>
<span class="c1">;   %percentage-cores% - load percentage for each core</span>
<span class="c1">;   %percentage-core[1-9]% - load percentage for specific core</span>
<span class="na">label</span> <span class="o">=</span> <span class="s">CPU %percentage%%</span>
<span class="c1">;label-font = 3</span>

<span class="c1">; Spacing between individual per-core ramps</span>
<span class="na">ramp-coreload-spacing</span> <span class="o">=</span> <span class="s">1</span>
<span class="na">ramp-coreload-0</span> <span class="o">=</span> <span class="s">▁</span>
<span class="na">ramp-coreload-1</span> <span class="o">=</span> <span class="s">▂</span>
<span class="na">ramp-coreload-2</span> <span class="o">=</span> <span class="s">▃</span>
<span class="na">ramp-coreload-3</span> <span class="o">=</span> <span class="s">▄</span>
<span class="na">ramp-coreload-4</span> <span class="o">=</span> <span class="s">▅</span>
<span class="na">ramp-coreload-5</span> <span class="o">=</span> <span class="s">▆</span>
<span class="na">ramp-coreload-6</span> <span class="o">=</span> <span class="s">▇</span>
<span class="na">ramp-coreload-7</span> <span class="o">=</span> <span class="s">█</span>

<span class="c1">; ramps for ramp-load</span>
<span class="na">ramp-load-0</span> <span class="o">=</span> <span class="s">▁</span>
<span class="na">ramp-load-1</span> <span class="o">=</span> <span class="s">▂</span>
<span class="na">ramp-load-2</span> <span class="o">=</span> <span class="s">▃</span>
<span class="na">ramp-load-3</span> <span class="o">=</span> <span class="s">▄</span>
<span class="na">ramp-load-4</span> <span class="o">=</span> <span class="s">▅</span>
<span class="na">ramp-load-5</span> <span class="o">=</span> <span class="s">▆</span>
<span class="na">ramp-load-6</span> <span class="o">=</span> <span class="s">▇</span>
<span class="na">ramp-load-7</span> <span class="o">=</span> <span class="s">█</span>
<span class="c1">; colors for each ramp</span>
<span class="na">ramp-load-0-foreground</span> <span class="o">=</span> <span class="s">#aaff77</span>
<span class="na">ramp-load-1-foreground</span> <span class="o">=</span> <span class="s">#aaff77</span>
<span class="na">ramp-load-2-foreground</span> <span class="o">=</span> <span class="s">#aaff77</span>
<span class="na">ramp-load-3-foreground</span> <span class="o">=</span> <span class="s">#aaff77</span>
<span class="na">ramp-load-4-foreground</span> <span class="o">=</span> <span class="s">#fba922</span>
<span class="na">ramp-load-5-foreground</span> <span class="o">=</span> <span class="s">#fba922</span>
<span class="na">ramp-load-6-foreground</span> <span class="o">=</span> <span class="s">#ff5555</span>
<span class="na">ramp-load-7-foreground</span> <span class="o">=</span> <span class="s">#ff5555</span>
<span class="c1">;;; }}}</span></code></pre></td></tr></table>
</div>
</div>
<p>首先看到输出的格式为<code>format = &lt;label&gt;&lt;ramp-load&gt;</code>，说明它会输出<code>&lt;label&gt;</code>的值以及<code>&lt;ramp-load&gt;</code>的值。好的，那我们先看一眼<code>&lt;label&gt;</code>是啥？</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-ini" data-lang="ini"><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-ini" data-lang="ini"><span class="na">label</span> <span class="o">=</span> <span class="s">CPU %percentage%%</span></code></pre></td></tr></table>
</div>
</div>
<p>顾名思义，它会输出CPU加一个变量，这个变量是一个百分比，就是当前CPU的平均使用率。可选的变量已经在 wiki 中给出。想要什么自己替换就行。</p>

<p>再来看看第二部分，</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-ini" data-lang="ini"><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-ini" data-lang="ini"><span class="na">ramp-load-0</span> <span class="o">=</span> <span class="s">▁</span>
<span class="na">ramp-load-1</span> <span class="o">=</span> <span class="s">▂</span>
<span class="na">ramp-load-2</span> <span class="o">=</span> <span class="s">▃</span>
<span class="na">ramp-load-3</span> <span class="o">=</span> <span class="s">▄</span>
<span class="na">ramp-load-4</span> <span class="o">=</span> <span class="s">▅</span>
<span class="na">ramp-load-5</span> <span class="o">=</span> <span class="s">▆</span>
<span class="na">ramp-load-6</span> <span class="o">=</span> <span class="s">▇</span>
<span class="na">ramp-load-7</span> <span class="o">=</span> <span class="s">█</span></code></pre></td></tr></table>
</div>
</div>
<p><code>ramp-load</code>共有7个值，他会根据CPU使用率选择合适的值。简而言之，就是将100分成7个等级，使用率越高，就选用等级越高的图案显示。整合起来的效果就是随着百分比增加，显示的高度越高，类似一个性能监视窗，上下浮动。</p>

<p>这还不够，我们还可以做一点微小的工作。请看</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-ini" data-lang="ini"><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-ini" data-lang="ini"><span class="na">ramp-load-0-foreground</span> <span class="o">=</span> <span class="s">#aaff77</span>
<span class="na">ramp-load-1-foreground</span> <span class="o">=</span> <span class="s">#aaff77</span>
<span class="na">ramp-load-2-foreground</span> <span class="o">=</span> <span class="s">#aaff77</span>
<span class="na">ramp-load-3-foreground</span> <span class="o">=</span> <span class="s">#aaff77</span>
<span class="na">ramp-load-4-foreground</span> <span class="o">=</span> <span class="s">#fba922</span>
<span class="na">ramp-load-5-foreground</span> <span class="o">=</span> <span class="s">#fba922</span>
<span class="na">ramp-load-6-foreground</span> <span class="o">=</span> <span class="s">#ff5555</span>
<span class="na">ramp-load-7-foreground</span> <span class="o">=</span> <span class="s">#ff5555</span></code></pre></td></tr></table>
</div>
</div>
<p>这里我们定义了每个等级展示字符的前景色。等级越高，颜色越红，表示警告CPU使用快超标了！这样整个变化就有了颜色相伴，更加直观！最后完成的效果如下：<br />
<img src="https://s2.ax1x.com/2019/01/17/kpVXGt.gif" alt="kpVXGt.gif" /></p>

<p>内存模块也是类似的。先看一下配置，</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-ini" data-lang="ini"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span><span class="lnt">53
</span><span class="lnt">54
</span><span class="lnt">55
</span><span class="lnt">56
</span><span class="lnt">57
</span><span class="lnt">58
</span><span class="lnt">59
</span><span class="lnt">60
</span><span class="lnt">61
</span><span class="lnt">62
</span><span class="lnt">63
</span><span class="lnt">64
</span><span class="lnt">65
</span><span class="lnt">66
</span><span class="lnt">67
</span><span class="lnt">68
</span><span class="lnt">69
</span><span class="lnt">70
</span><span class="lnt">71
</span><span class="lnt">72
</span><span class="lnt">73
</span><span class="lnt">74
</span><span class="lnt">75
</span><span class="lnt">76
</span><span class="lnt">77
</span><span class="lnt">78
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-ini" data-lang="ini"><span class="k">[module/memory]</span>
<span class="na">type</span> <span class="o">=</span> <span class="s">internal/memory</span>

<span class="c1">; Seconds to sleep between updates</span>
<span class="c1">; Default: 1</span>
<span class="na">interval</span> <span class="o">=</span> <span class="s">3.0</span>
<span class="c1">; Available tags:</span>
<span class="c1">;   &lt;label&gt; (default)</span>
<span class="c1">;   &lt;bar-used&gt;</span>
<span class="c1">;   &lt;bar-free&gt;</span>
<span class="c1">;   &lt;ramp-used&gt;</span>
<span class="c1">;   &lt;ramp-free&gt;</span>
<span class="c1">;   &lt;bar-swap-used&gt;</span>
<span class="c1">;   &lt;bar-swap-free&gt;</span>
<span class="c1">;   &lt;ramp-swap-used&gt;</span>
<span class="c1">;   &lt;ramp-swap-free&gt;</span>
<span class="na">format</span> <span class="o">=</span> <span class="s">&lt;label&gt;&lt;ramp-used&gt;</span>

<span class="c1">; Available tokens:</span>
<span class="c1">;   %percentage_used% (default)</span>
<span class="c1">;   %percentage_free%</span>
<span class="c1">;   %gb_used%</span>
<span class="c1">;   %gb_free%</span>
<span class="c1">;   %gb_total%</span>
<span class="c1">;   %mb_used%</span>
<span class="c1">;   %mb_free%</span>
<span class="c1">;   %mb_total%</span>
<span class="c1">;   %percentage_swap_used%</span>
<span class="c1">;   %percentage_swap_free%</span>
<span class="c1">;   %mb_swap_total%</span>
<span class="c1">;   %mb_swap_free%</span>
<span class="c1">;   %mb_swap_used%</span>
<span class="c1">;   %gb_swap_total%</span>
<span class="c1">;   %gb_swap_free%</span>
<span class="c1">;   %gb_swap_used%</span>

<span class="na">label</span> <span class="o">=</span> <span class="s">RAM %percentage_used%%</span>
<span class="c1">;label-font = 3</span>

<span class="c1">; Only applies if &lt;bar-used&gt; is used</span>
<span class="na">bar-used-indicator</span> <span class="o">=</span>
<span class="na">bar-used-width</span> <span class="o">=</span> <span class="s">50</span>
<span class="na">bar-used-foreground-0</span> <span class="o">=</span> <span class="s">#55aa55</span>
<span class="na">bar-used-foreground-1</span> <span class="o">=</span> <span class="s">#557755</span>
<span class="na">bar-used-foreground-2</span> <span class="o">=</span> <span class="s">#f5a70a</span>
<span class="na">bar-used-foreground-3</span> <span class="o">=</span> <span class="s">#ff5555</span>
<span class="na">bar-used-fill</span> <span class="o">=</span> <span class="s">▐</span>
<span class="na">bar-used-empty</span> <span class="o">=</span> <span class="s">▐</span>
<span class="na">bar-used-empty-foreground</span> <span class="o">=</span> <span class="s">#444444</span>

<span class="c1">; Only applies if &lt;ramp-used&gt; is used</span>
<span class="na">ramp-used-0</span> <span class="o">=</span> <span class="s">▁</span>
<span class="na">ramp-used-1</span> <span class="o">=</span> <span class="s">▂</span>
<span class="na">ramp-used-2</span> <span class="o">=</span> <span class="s">▃</span>
<span class="na">ramp-used-3</span> <span class="o">=</span> <span class="s">▄</span>
<span class="na">ramp-used-4</span> <span class="o">=</span> <span class="s">▅</span>
<span class="na">ramp-used-5</span> <span class="o">=</span> <span class="s">▆</span>
<span class="na">ramp-used-6</span> <span class="o">=</span> <span class="s">▇</span>
<span class="na">ramp-used-7</span> <span class="o">=</span> <span class="s">█</span>
<span class="na">ramp-used-0-foreground</span> <span class="o">=</span> <span class="s">#aaff77</span>
<span class="na">ramp-used-1-foreground</span> <span class="o">=</span> <span class="s">#aaff77</span>
<span class="na">ramp-used-2-foreground</span> <span class="o">=</span> <span class="s">#aaff77</span>
<span class="na">ramp-used-3-foreground</span> <span class="o">=</span> <span class="s">#aaff77</span>
<span class="na">ramp-used-4-foreground</span> <span class="o">=</span> <span class="s">#fba922</span>
<span class="na">ramp-used-5-foreground</span> <span class="o">=</span> <span class="s">#fba922</span>
<span class="na">ramp-used-6-foreground</span> <span class="o">=</span> <span class="s">#ff5555</span>
<span class="na">ramp-used-7-foreground</span> <span class="o">=</span> <span class="s">#ff5555</span>

<span class="c1">; Only applies if &lt;ramp-free&gt; is used</span>
<span class="na">ramp-free-0</span> <span class="o">=</span> <span class="s">▁</span>
<span class="na">ramp-free-1</span> <span class="o">=</span> <span class="s">▂</span>
<span class="na">ramp-free-2</span> <span class="o">=</span> <span class="s">▃</span>
<span class="na">ramp-free-3</span> <span class="o">=</span> <span class="s">▄</span>
<span class="na">ramp-free-4</span> <span class="o">=</span> <span class="s">▅</span>
<span class="na">ramp-free-5</span> <span class="o">=</span> <span class="s">▆</span>
<span class="na">ramp-free-6</span> <span class="o">=</span> <span class="s">▇</span>
<span class="na">ramp-free-7</span> <span class="o">=</span> <span class="s">█</span>
<span class="c1">;;; }}}</span></code></pre></td></tr></table>
</div>
</div>
<p>配置出来的效果见<a href="#group-4">上图</a>。</p>

<h3 id="电池模块">电池模块</h3>

<p>同理可参考 wiki 配置电池模块。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-ini" data-lang="ini"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-ini" data-lang="ini"><span class="c1">;;; battery {{{</span>
<span class="k">[module/battery]</span>
<span class="na">type</span> <span class="o">=</span> <span class="s">internal/battery</span>
<span class="na">full-at</span> <span class="o">=</span> <span class="s">98</span>

<span class="na">format-charging</span> <span class="o">=</span> <span class="s">&lt;animation-charging&gt; &lt;label-charging&gt;</span>
<span class="na">format-discharging</span> <span class="o">=</span> <span class="s">&lt;ramp-capacity&gt; &lt;label-discharging&gt;</span>
<span class="na">format-full</span> <span class="o">=</span> <span class="s">%{F#666}%{F#ccfafafa} &lt;label-full&gt;</span>
<span class="c1">#label-charging-font = 3</span>
<span class="c1">#label-discharing-font = 3</span>

<span class="na">ramp-capacity-0</span> <span class="o">=</span> <span class="s"></span>
<span class="na">ramp-capacity-1</span> <span class="o">=</span> <span class="s"></span>
<span class="na">ramp-capacity-2</span> <span class="o">=</span> <span class="s"></span>
<span class="c1">; low power alert</span>
<span class="na">ramp-capacity-0-foreground</span> <span class="o">=</span> <span class="s">#ff5555</span>

<span class="c1">; it will display over the three pattern when charing</span>
<span class="c1">; at a framerate 750</span>
<span class="c1">; and each has a foreground color</span>
<span class="na">animation-charging-0</span> <span class="o">=</span> <span class="s"></span>
<span class="na">animation-charging-1</span> <span class="o">=</span> <span class="s"></span>
<span class="na">animation-charging-2</span> <span class="o">=</span> <span class="s"></span>
<span class="na">animation-charging-2-foreground</span> <span class="o">=</span> <span class="s">#aaff77</span>
<span class="na">animation-charging-1-foreground</span> <span class="o">=</span> <span class="s">#fba922</span>
<span class="na">animation-charging-0-foreground</span> <span class="o">=</span> <span class="s">#ff5555</span>
<span class="na">animation-charging-framerate</span> <span class="o">=</span> <span class="s">750</span>
<span class="c1">;;; }}}</span></code></pre></td></tr></table>
</div>
</div>
<p>可以看到电池的显示类型共有三个，</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-ini" data-lang="ini"><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-ini" data-lang="ini"><span class="na">format-charging</span> <span class="o">=</span> <span class="s">&lt;animation-charging&gt; &lt;label-charging&gt;</span>
<span class="na">format-discharging</span> <span class="o">=</span> <span class="s">&lt;ramp-capacity&gt; &lt;label-discharging&gt;</span>
<span class="na">format-full</span> <span class="o">=</span> <span class="s">%{F#666}%{F#ccfafafa} &lt;label-full&gt;</span></code></pre></td></tr></table>
</div>
</div>
<p>第一个控制了充电时的显示，第二个控制了非充电时的显示，第三个则是满电时的显示。配置语言通俗易懂，比如，充电的时候会显示一个充电动画和电池电量（<code>&lt;label-charing&gt;</code>），其他的可以依次类推。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-ini" data-lang="ini"><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-ini" data-lang="ini"><span class="na">animation-charging-0</span> <span class="o">=</span> <span class="s"></span>
<span class="na">animation-charging-1</span> <span class="o">=</span> <span class="s"></span>
<span class="na">animation-charging-2</span> <span class="o">=</span> <span class="s"></span>
<span class="na">animation-charging-2-foreground</span> <span class="o">=</span> <span class="s">#aaff77</span>
<span class="na">animation-charging-1-foreground</span> <span class="o">=</span> <span class="s">#fba922</span>
<span class="na">animation-charging-0-foreground</span> <span class="o">=</span> <span class="s">#ff5555</span>
<span class="na">animation-charging-framerate</span> <span class="o">=</span> <span class="s">750</span></code></pre></td></tr></table>
</div>
</div>
<p>上面这段配置定义了充电时的动画，当你插上电源，电池图标会依次按照0、1、2的图案切换。然后每个图案都有各自的前景色，切换的速率是 750. 完成后的效果如下：<br />
<img src="https://s2.ax1x.com/2019/01/17/kpQbCQ.gif" alt="kpQbCQ.gif" /></p>

<h3 id="mpd-模块">MPD 模块</h3>

<p><a href="https://www.musicpd.org/">MPD</a> 全称 Music Player Daemon.</p>

<blockquote>
<p>MPD (music player daemon) is an audio player that has a server-client architecture. It plays audio files, organizes playlists and maintains a music database, all while using very few resources. In order to interface with it, a separate client is needed.<br />
<div style="text-align:right">──adpted from archwiki</div></p>
</blockquote>

<p>MPD是一个轻量的本地音乐播放框架。需要和客户端（mpc）一起使用。大致分为几步：</p>

<ol>
<li><code>$ mpd</code> 启动 mpd 进程<br /></li>
<li><code>$ mpc add &lt;MusicDir&gt;</code> 添加本地音乐文件夹<br /></li>
<li><code>$ mpc play</code> 开始播放<br />
<br /></li>
</ol>

<p>如我们所见，非常轻量。但是 mpc 是命令行工具，使用起来难免有些不顺手。好在 polybar 已经内置了 mpd 模块，我们只需要改改样式就可以了。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-ini" data-lang="ini"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-ini" data-lang="ini"><span class="c1">;;; mpd config {{{</span>
<span class="k">[module/mpd]</span>
<span class="na">type</span> <span class="o">=</span> <span class="s">internal/mpd</span>

<span class="c1">; format-online = &lt;label-song&gt;  &lt;label-time&gt;  &lt;bar-progress&gt;  &lt;icon-prev&gt; &lt;icon-seekb&gt; &lt;icon-stop&gt; &lt;toggle&gt; &lt;icon-seekf&gt; &lt;icon-next&gt;  &lt;icon-repeat&gt; &lt;icon-random&gt;</span>
<span class="na">format-online</span> <span class="o">=</span> <span class="s">&lt;toggle&gt; &lt;label-song&gt; &lt;icon-next&gt;</span>
<span class="na">format-offline</span> <span class="o">=</span> <span class="s">&lt;label-offline&gt;</span>
<span class="na">format-offline-foreground</span> <span class="o">=</span> <span class="s">#66</span>
<span class="na">label-offline</span> <span class="o">=</span> <span class="s">mpd is off</span>

<span class="na">label-song-maxlen</span> <span class="o">=</span> <span class="s">20</span>
<span class="na">label-song-font</span> <span class="o">=</span> <span class="s">8</span>

<span class="na">icon-prev</span> <span class="o">=</span> <span class="s"></span>
<span class="na">icon-seekb</span> <span class="o">=</span> <span class="s"></span>
<span class="na">icon-stop</span> <span class="o">=</span> <span class="s">stop</span>
<span class="na">icon-play</span> <span class="o">=</span> <span class="s"></span>
<span class="na">icon-pause</span> <span class="o">=</span> <span class="s"></span>
<span class="na">icon-next</span> <span class="o">=</span> <span class="s"></span>
<span class="na">icon-seekf</span> <span class="o">=</span> <span class="s"></span>

<span class="na">icon-random</span> <span class="o">=</span> <span class="s"></span>
<span class="na">icon-repeat</span> <span class="o">=</span> <span class="s"></span>

<span class="na">toggle-on-foreground</span> <span class="o">=</span> <span class="s">#2278ff</span>
<span class="na">toggle-off-foreground</span> <span class="o">=</span> <span class="s">#66</span>

<span class="na">bar-progress-width</span> <span class="o">=</span> <span class="s">15</span>
<span class="na">bar-progress-indicator</span> <span class="o">=</span> <span class="s"></span>
<span class="na">bar-progress-indicator-foreground</span> <span class="o">=</span> <span class="s">#bb</span>
<span class="na">bar-progress-fill</span> <span class="o">=</span> <span class="s">─</span>
<span class="na">bar-progress-fill-foreground</span> <span class="o">=</span> <span class="s">#bb</span>
<span class="na">bar-progress-fill-font</span> <span class="o">=</span> <span class="s">3</span>
<span class="na">bar-progress-empty</span> <span class="o">=</span> <span class="s">─</span>
<span class="na">bar-progress-empty-foreground</span> <span class="o">=</span> <span class="s">#44</span>
<span class="na">bar-progress-empty-font</span> <span class="o">=</span> <span class="s">3</span>

<span class="na">label-time-foreground</span> <span class="o">=</span> <span class="s">#55</span>
<span class="na">label-time-font</span> <span class="o">=</span> <span class="s">8</span>
<span class="c1">;;; }}}</span></code></pre></td></tr></table>
</div>
</div>
<p>配置好我们需要的样式就大功告成啦，看一下效果：<br />
<img src="https://s2.ax1x.com/2019/01/17/kpgZLt.gif" alt="kpgZLt.gif" /></p>

<h2 id="总结">总结</h2>

<p>一路折腾下来，发现 polybar 其实很友好。配置逻辑也非常清晰，有点怀疑自己当初为什么没有配置好它，反而觉得很难用。所以啊，作者写这个软件也不是为了刁难人的，一开始的时候也并没有这么复杂。我们入手呢，就要从作者一开始写出来的那样，能用出最基础的功能就好了。然后需求都是后来加上去的。有用户提，作者考虑做，或者作者自己想到的功能，才会在后面一步步添加上去。最终成为一个功能相对完善的软件。每个东西都有它的学习曲线，我们可能已经适应了平缓的山坡，突然面对一个陡峭的山峰之时，便不好应对了。但是千里之行，始于足下！我们始终要抓住它们最初的样子，或者说雏形，然后想一想它们是如何发展过来的，顺着这条线路走下去，自然觉得一切合情合理，也有勇气和信心去学了！然后当我们学会一个又一个软件之后，或许会发现它们可能有异曲同工之妙。那便是学到了！</p>

<h2 id="reference">Reference</h2>

<ul>
<li><a href="https://github.com/jaagr/polybar/wiki">Polybar wiki</a><br /></li>
<li><a href="https://github.com/jaagr/dots/tree/master/.config/polybar/testing">Polybar example</a><br /></li>
<li><a href="https://www.reddit.com/r/unixporn/comments/5pikkd/how_to_get_polybar_icons_working/">How to get polybar icons working</a><br /></li>
<li><a href="https://forum.archlabslinux.com/t/show-us-your-polybar/159/10">Show Us Your Polybar - Artwork / Polybar &amp; Tint2 Configs - ArchLabs Linux</a><br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br /></li>
</ul>

    </div>

    <div class="post-copyright">
  <p class="copyright-item">
    <span class="item-title">Author</span>
    <span class="item-content">Yychi</span>
  </p>
  <p class="copyright-item">
    <span class="item-title">LastMod</span>
    <span class="item-content">
        January 16, 2019
        
    </span>
  </p>
  
  <p class="copyright-item">
    <span class="item-title">License</span>
    <span class="item-content"><a rel="license noopener" href="https://creativecommons.org/licenses/by-nc-nd/4.0/" target="_blank">CC BY-NC-ND 4.0</a></span>
  </p>
</div>
<div class="post-reward">
  <input type="checkbox" name="reward" id="reward" hidden />
  <label class="reward-button" for="reward">Reward</label>
  <div class="qr-code">
    
    <label class="qr-code-image" for="reward">
        <img class="image" src="https://s2.ax1x.com/2019/01/18/k9S5a6.png">
        <span>wechat</span>
      </label>
    <label class="qr-code-image" for="reward">
        <img class="image" src="https://s2.ax1x.com/2019/01/18/k9SvZt.jpg">
        <span>alipay</span>
      </label>
  </div>
</div><footer class="post-footer">
      <div class="post-tags">
          <a href="/tags/polybar/">polybar</a>
          </div>
      <nav class="post-nav">
        <a class="prev" href="/post/sicp-learning-notes/">
            <i class="iconfont icon-left"></i>
            <span class="prev-text nav-default">SICP Learning Notes</span>
            <span class="prev-text nav-mobile">Prev</span>
          </a>
        <a class="next" href="/post/matrix-factorization/">
            <span class="next-text nav-default">Matrix Factorization</span>
            <span class="next-text nav-mobile">Next</span>
            <i class="iconfont icon-right"></i>
          </a>
      </nav>
    </footer>
  </article>
        </div>
        
  
  

  

      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="social-links">
      <a href="mailto:guyueshui002@gmail.com" class="iconfont icon-email" title="email"></a>
      <a href="https://github.com/guyueshui" class="iconfont icon-github" title="github"></a>
  <a href="https://guyueshui.github.io/index.xml" type="application/rss+xml" class="iconfont icon-rss" title="rss"></a>
</div>

<div class="copyright">
  <span class="power-by">
    Powered by <a class="hexo-link" href="https://gohugo.io">Hugo</a>
  </span>
  <span class="division">|</span>
  <span class="theme-info">
    Theme - 
    <a class="theme-link" href="https://github.com/olOwOlo/hugo-theme-even">Even</a>
  </span>

  <div class="busuanzi-footer">
    <span id="busuanzi_container_site_pv"> site pv: <span id="busuanzi_value_site_pv"><img src="/img/spinner.svg" alt="spinner.svg"/></span> </span>
      <span class="division">|</span>
    <span id="busuanzi_container_site_uv"> site uv: <span id="busuanzi_value_site_uv"><img src="/img/spinner.svg" alt="spinner.svg"/></span> </span>
  </div>

  <span class="copyright-year">
    &copy; 
    2018 - 
    2019
    <span class="heart">
      <i class="iconfont icon-heart"></i>
    </span>
    <span class="author">Yychi</span>
  </span>
</div>
    </footer>

    <div class="back-to-top" id="back-to-top">
      <i class="iconfont icon-up"></i>
    </div>
  </div>
  
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.2.1/dist/jquery.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/slideout@1.0.1/dist/slideout.min.js" integrity="sha256-t+zJ/g8/KXIJMjSVQdnibt4dlaDxc9zXr/9oNPeWqdg=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.js" integrity="sha256-XVLffZaxoWfGUEbdzuLi7pwaUJv1cecsQJQqGLe7axY=" crossorigin="anonymous"></script>
<script type="text/javascript" src="/dist/even.f79f403f.min.js"></script>








</body>
</html>
